<behaviortree name="SpiderMind" precondition="" repeatuntil="" debug="False"><sequencer name="root" precondition="" repeatuntil="" debug="False"><parallel name="living loop" precondition="is_dead == false" repeatuntil="" debug="False" fail="any" succeed="all" tiebreaker="fail"><selector name="change emotional state" precondition="" repeatuntil="running" debug="False"><assign name="change to dying" precondition="current_health &lt;= 0" repeatuntil="" debug="False" expression="emotional_state = &quot;dying&quot;" /><sequencer name="change to hungry" precondition="" repeatuntil="" debug="False"><condition name="there is a rat to eat" precondition="" repeatuntil="" debug="False" expression="rat_to_eat != null" /><assign name="set as hungry" precondition="" repeatuntil="" debug="False" expression="emotional_state = &quot;hungry&quot;" /></sequencer><sequencer name="change to scared" precondition="" repeatuntil="" debug="False"><condition name="is being aimed at" precondition="" repeatuntil="" debug="False" expression="is_being_aimed_at == true" /><assign name="set as scared" precondition="" repeatuntil="" debug="False" expression="emotional_state = &quot;scared&quot;" /></sequencer><sequencer name="change to aggressive" precondition="" repeatuntil="" debug="False"><condition name="player is in attack distance" precondition="" repeatuntil="" debug="False" expression="is_in_attack_distance_of_player == true" /><assign name="set as aggressive" precondition="" repeatuntil="" debug="False" expression="emotional_state = &quot;aggressive&quot;" /></sequencer><assign name="change to calm" precondition="" repeatuntil="" debug="False" expression="emotional_state = &quot;calm&quot;" /><sequencer name="sequencer 8770" precondition="" repeatuntil="" debug="False" /></selector><sequencer name="act based on emotional state" precondition="" repeatuntil="running" debug="False"><selector name="choose behavior" precondition="" repeatuntil="" debug="False"><sequencer name="dying behavior" precondition="emotional_state == &quot;dying&quot;" repeatuntil="" debug="False"><mecparam name="stop attacking" precondition="" repeatuntil="" debug="False" parametername="Attack" valueexpression="false" damptime="0" parametertype="boolean" /><mecparam name="start getting hit" precondition="" repeatuntil="" debug="False" parametername="GotHit" valueexpression="true" damptime="0" parametertype="boolean" /><timer name="wait a tiny bit of time" precondition="" debug="False" waitforsec=".001" /><mecparam name="stop getting hit" precondition="" repeatuntil="" debug="False" parametername="GotHit" valueexpression="false" damptime="0" parametertype="boolean" /><mecparam name="start dying" precondition="" repeatuntil="" debug="False" parametername="Dead" valueexpression="true" damptime="0" parametertype="boolean" /><timer name="wait 5 seconds" precondition="" debug="False" waitforsec="5" /><assign name="change to dead" precondition="" repeatuntil="" debug="False" expression="is_dead = true" /></sequencer><sequencer name="hungry behavior" precondition="emotional_state == &quot;hungry&quot;" repeatuntil="" debug="False"><mecparam name="stop attacking" precondition="" repeatuntil="" debug="False" parametername="Attack" valueexpression="false" damptime="0" parametertype="boolean" /><mecmove name="mecmove 23610" precondition="" repeatuntil="" debug="False" movetarget="rat_to_eat" movespeed="-1" linearspeedparameter="Speed" angularspeedparameter="AngularSpeed" turnangleparameter="Direction" velocityparameter="" rotationparameter="" damptime="0" /><animate name="eat rat" precondition="" repeatuntil="" debug="False" animation="Eating" waitforsec="2" layer="0" wrapmode="default" fadein="0" fadeout="0" /><action name="destroy rat" precondition="" repeatuntil="" debug="False" classname="DestroyDeadRat" /><assign name="set the rat_to_eat as null" precondition="" repeatuntil="" debug="False" expression="rat_to_eat = null" /><assign name="change to calm" precondition="" repeatuntil="" debug="False" expression="emotional_state = &quot;calm&quot;" /></sequencer><sequencer name="scared behavior" precondition="emotional_state == &quot;scared&quot;" repeatuntil="" debug="False"><mecparam name="stop attacking" precondition="" repeatuntil="" debug="False" parametername="Attack" valueexpression="false" damptime="0" parametertype="boolean" /><action name="find random hiding spot" precondition="" repeatuntil="" debug="False" classname="FindRandomHidingSpot" /><mecmove name="move to hiding spot" precondition="" repeatuntil="" debug="False" movetarget="move_target" movespeed="3" linearspeedparameter="Speed" angularspeedparameter="AngularSpeed" turnangleparameter="Direction" velocityparameter="" rotationparameter="" damptime="1" /><assign name="change to calm" precondition="" repeatuntil="" debug="False" expression="emotional_state == &quot;calm&quot;" /></sequencer><sequencer name="aggressive behavior" precondition="emotional_state == &quot;aggressive&quot;" repeatuntil="" debug="False"><mecparam name="mecparam 16401" precondition="" repeatuntil="" debug="False" parametername="Attack" valueexpression="true" damptime="0" parametertype="boolean" /><timer name="timer 36871" precondition="" debug="False" waitforsec=".1" /><mecparam name="mecparam 15429" precondition="" repeatuntil="" debug="False" parametername="Attack" valueexpression="false" damptime="0" parametertype="boolean" /><action name="attack player" precondition="" repeatuntil="" debug="False" classname="AttackPlayer" /><timer name="timer 26987" precondition="" debug="False" waitforsec=".5" /></sequencer><sequencer name="calm behavior" precondition="emotional_state == &quot;calm&quot;" repeatuntil="" debug="False"><selector name="try to set position behind player or change to scared if that's not possible" precondition="" repeatuntil="" debug="False"><action name="set position behind player" precondition="" repeatuntil="" debug="False" classname="SetPositionBehindPlayer" /><assign name="set as scared" precondition="" repeatuntil="" debug="False" expression="emotional_state == &quot;scared&quot;" /></selector><mecmove name="move behind player" precondition="" repeatuntil="" debug="False" movetarget="move_target" movespeed="-1" linearspeedparameter="Speed" angularspeedparameter="AngularSpeed" turnangleparameter="Direction" velocityparameter="" rotationparameter="" damptime="0" /></sequencer></selector></sequencer></parallel></sequencer></behaviortree>