<behaviortree name="RatMind" precondition="" repeatuntil="" debug="False"><sequencer name="root" precondition="" repeatuntil="" debug="False"><sequencer name="main loop" precondition="is_dead == false" repeatuntil="" debug="False"><parallel name="living behavior" precondition="" repeatuntil="" debug="False" fail="any" succeed="all" tiebreaker="fail"><sequencer name="update emotional state" precondition="" repeatuntil="running" debug="False"><selector name="choose emotional state" precondition="" repeatuntil="" debug="False"><assign name="set as dying" precondition="current_health &lt;= 0" repeatuntil="" debug="False" expression="emotional_state = &quot;dying&quot;" /></selector></sequencer><sequencer name="execute behavior based on emotional state" precondition="" repeatuntil="running" debug="False"><selector name="choose behavior" precondition="" repeatuntil="" debug="False"><sequencer name="dying behavior" precondition="emotional_state == &quot;dying&quot;" repeatuntil="" debug="False"><action name="reset state on death" precondition="" repeatuntil="" debug="False" classname="ResetStateOnDeath" /><action name="attract spider to dead rat" precondition="" repeatuntil="" debug="False" classname="AttractSpiderToDeadRat" /><animate name="play death animation" precondition="" repeatuntil="" debug="False" animation="Die" waitforsec="2" layer="0" wrapmode="default" fadein="0" fadeout="0" /><action name="respawn spider" precondition="" repeatuntil="" debug="False" classname="SpawnSpider" /><assign name="set AI as dead" precondition="" repeatuntil="" debug="False" expression="is_dead = true" /></sequencer><sequencer name="scared behavior" precondition="emotional_state == &quot;scared&quot;" repeatuntil="" debug="False"><action name="randomly select hiding spot" precondition="" repeatuntil="" debug="False" classname="FindRandomHidingSpot" /><move name="Move to hiding spot" precondition="" repeatuntil="" debug="False" movetarget="move_target" movespeed="-1" animation="Walk" animationlayer="0" animationwrapmode="default" animationbasespeed="1" /></sequencer><sequencer name="calm behavior" precondition="emotional_state == &quot;calm&quot;" repeatuntil="" debug="False"><selector name="move to and damage power nodes" precondition="" repeatuntil="" debug="False"><sequencer name="try to damage power node" precondition="" repeatuntil="" debug="False"><selector name="selector 16264" precondition="" repeatuntil="" debug="False"><action name="set unoccupied power nodes" precondition="" repeatuntil="" debug="False" classname="SetUnOccupiedPowerNodes" /><sequencer name="sequencer 17604" precondition="" repeatuntil="" debug="False"><assign name="set as scared" precondition="" repeatuntil="" debug="False" expression="emotional_state = &quot;scared&quot;" /><condition name="fail out" precondition="" repeatuntil="" debug="False" expression="false" /></sequencer></selector><action name="randomly select un occupied power node" precondition="" repeatuntil="" debug="False" classname="RandomlySelectUnOccupiedPowerNode" /><move name="Move to move_target" precondition="" repeatuntil="" debug="False" movetarget="move_target" movespeed="1.6" animation="Walk" animationlayer="0" animationwrapmode="default" animationbasespeed="1" /><sequencer name="eat node" precondition="" repeatuntil="success" debug="False"><animate name="Play eat animation" precondition="" repeatuntil="" debug="False" animation="Eating" waitforsec="0.2" layer="0" wrapmode="default" fadein="0" fadeout="0" /><action name="damage power node" precondition="" repeatuntil="" debug="False" classname="DamagePowerNode" /></sequencer><assign name="set current power node as null" precondition="" repeatuntil="" debug="False" expression="current_power_node = null" /><assign name="set move_target as null" precondition="" repeatuntil="" debug="False" expression="move_target = null" /></sequencer></selector></sequencer></selector></sequencer></parallel></sequencer></sequencer></behaviortree>